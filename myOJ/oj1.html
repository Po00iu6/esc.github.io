<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="apple-touch-icon" href="../../../sqhgxsq/next/Material/logo.png">
    <link rel="icon" href="https://ys.mihoyo.com/main/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://ys.mihoyo.com/main/favicon.ico" type="image/x-icon">
    <meta name="renderer" content="webkit">
    <meta property="og:image" content="https://fastcdn.mihoyo.com/static-resource-v2/2023/12/20/e04bc0be964b4fc7056bc1128b35f200_4546122273706382871.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="keywords" content="OIer的错题集,ESC,ESC.html">
    <meta name="description" content="OIer的错题集,ESC,ESC.html">

    <!-- bing sitmap system -->
    <meta name="msvalidate.01" content="E636B33C63F884A1E40D913638E2424B" />

    <title>错题集 环上最大子段和</title>
    <style>
        textarea{
            width: 90%;
            height: 50vh;
        }
        input{
            margin: 10px;
        }
        button{
            margin: 10px;
        }
    </style>
</head>
<body>
    <a href="./hub.html">《 返回</a>
    <h3>环上最大子段和</h3>
    <p>【问题描述】</p>
    <p>有个环状数组，每个位置上有个数字（可正可负）。试最大化环上连续一段数字的和（可以是空段，输出0）。序列长度n&ge;200000。</p>
    <textarea name="代码" id="">
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
using namespace std;
#define maxn 300000
int n,w1,w2,sum,mi,ma;
int main(){
    cin&gt;&gt;n;
    for(int i=1,a;i&lt;=n;i++){
        cin&gt;&gt;a;
        sum+=a;
        ma=max(ma,w1=max(0,w1+ma));
        mi=min(mi,w2=max(0,w2+mi));
    }
    cout&lt;&lt;max(ma,sum-mi);
    return 0;
}
    </textarea>
    <div>
        <input type="submit" value="提交代码">
        <button onclick="window.open('./oj1-answer.html')">查看题解</button>
    </div>
</body>
</html>